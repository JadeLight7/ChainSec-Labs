# 区块链供应链溯源系统 - 详细测试报告

## 📋 报告元数据

| 项目 | 信息 |
|------|------|
| 项目名称 | 区块链供应链溯源系统 |
| 版本 | 1.0.0 |
| 生成时间 | 2025/12/1 16:13:00 |
| 测试框架 | Hardhat + Mocha + Chai |
| Solidity版本 | 0.8.19 |
| Node.js版本 | v23.11.0 |
| 网络 | Hardhat Local Network |

## 📊 测试统计总览

| 指标 | 数值 | 百分比 |
|------|------|--------|
| 总测试数 | 25 | 100% |
| ✅ 通过 | 25 | 100.00% |
| ❌ 失败 | 0 | 0.00% |
| ⚠️ 警告 | 0 | 0.00% |
| ⏱️ 总耗时 | 511ms | - |
| 平均耗时 | 20.44ms | - |
| ⛽ 总Gas消耗 | 4,108,610 | - |

## 🏗️ 部署的合约地址

| 合约名称 | 地址 |
|----------|------|
| roleManager | `0x5FbDB2315678afecb367f032d93F642f64180aa3` |
| productRegistry | `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512` |
| supplyChain | `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0` |
| qualityControl | `0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9` |

## ⛽ Gas消耗统计

### 合约部署Gas消耗

| 合约 | Gas消耗 | 占比 |
|------|---------|------|
| RoleManager | 444,692 | 17.33% |
| ProductRegistry | 748,544 | 29.18% |
| SupplyChain | 710,600 | 27.70% |
| QualityControl | 661,462 | 25.78% |
| **总计** | **2,565,298** | **100%** |

## 🧪 单元测试详情

### RoleManager

| 测试用例 | 状态 | 耗时 | Gas消耗 |
|---------|------|------|--------|
| 初始化管理员角色 | ✅ | 0ms | 0 |
| 授予制造商角色 | ✅ | 2ms | 50,576 |
| 权限控制验证 | ✅ | 6ms | 0 |
| 撤销角色功能 | ✅ | 3ms | 26,516 |
| 用户计数统计 | ✅ | 0ms | 0 |

### ProductRegistry

| 测试用例 | 状态 | 耗时 | Gas消耗 |
|---------|------|------|--------|
| 注册产品功能 | ✅ | 1ms | 234,382 |
| 查询产品信息 | ✅ | 1ms | 0 |
| 非制造商权限限制 | ✅ | 1ms | 0 |
| 批量注册性能测试 | ✅ | 5ms | 203,301 |
| 获取产品ID列表 | ✅ | 1ms | 0 |

### SupplyChain

| 测试用例 | 状态 | 耗时 | Gas消耗 |
|---------|------|------|--------|
| 添加生产阶段 | ✅ | 1ms | 122,350 |
| 添加运输阶段 | ✅ | 1ms | 105,399 |
| 添加配送阶段 | ✅ | 0ms | 105,520 |
| 查询供应链完整信息 | ✅ | 0ms | 0 |

### QualityControl

| 测试用例 | 状态 | 耗时 | Gas消耗 |
|---------|------|------|--------|
| 添加合格质检报告 | ✅ | 1ms | 188,684 |
| 添加不合格质检报告 | ✅ | 1ms | 149,278 |
| 计算合格率统计 | ✅ | 0ms | 0 |
| 批量质检性能测试 | ✅ | 5ms | 157,101 |

## 🔗 集成测试详情

| 测试用例 | 状态 | 耗时 |
|---------|------|------|
| 产品完整生命周期追踪 | ✅ | 3ms |
| 多产品并发处理能力 | ✅ | 14ms |
| 跨合约数据一致性 | ✅ | 1ms |

## ⚡ 性能测试详情

| 测试用例 | 状态 | 耗时 | 平均Gas |
|---------|------|------|--------|
| 合约部署Gas消耗分析 | ✅ | 9ms | 2,565,298 |
| 各函数Gas消耗统计 | ✅ | 30ms | 0 |
| 系统负载能力测试 | ✅ | 46ms | 200,205 |

## 📈 性能指标

| 指标 | 数值 |
|------|------|
| 平均测试耗时 | 20.44ms |
| 总执行时间 | 511ms |
| 测试吞吐量 | 48.92 tests/s |

---

*报告生成于: 2025/12/1 16:13:00*
